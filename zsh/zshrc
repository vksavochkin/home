# /etc/zsh/zshrc: system-wide .zshrc file for zsh(1).
#
# This file is sourced only for interactive shells. It
# should contain commands to set up aliases, functions,
# options, key bindings, etc.
#
# Global Order: zshenv, zprofile, zshrc, zlogin

READNULLCMD=${PAGER:-/usr/bin/pager}

if [[ "$TERM" != emacs ]]; then
[[ -z "$terminfo[kdch1]" ]] || bindkey -M emacs "$terminfo[kdch1]" delete-char
[[ -z "$terminfo[khome]" ]] || bindkey -M emacs "$terminfo[khome]" beginning-of-line
[[ -z "$terminfo[kend]" ]] || bindkey -M emacs "$terminfo[kend]" end-of-line
[[ -z "$terminfo[kich1]" ]] || bindkey -M emacs "$terminfo[kich1]" overwrite-mode
[[ -z "$terminfo[kdch1]" ]] || bindkey -M vicmd "$terminfo[kdch1]" vi-delete-char
[[ -z "$terminfo[khome]" ]] || bindkey -M vicmd "$terminfo[khome]" vi-beginning-of-line
[[ -z "$terminfo[kend]" ]] || bindkey -M vicmd "$terminfo[kend]" vi-end-of-line
[[ -z "$terminfo[kich1]" ]] || bindkey -M vicmd "$terminfo[kich1]" overwrite-mode

[[ -z "$terminfo[cuu1]" ]] || bindkey -M viins "$terminfo[cuu1]" vi-up-line-or-history
[[ -z "$terminfo[cuf1]" ]] || bindkey -M viins "$terminfo[cuf1]" vi-forward-char
[[ -z "$terminfo[kcuu1]" ]] || bindkey -M viins "$terminfo[kcuu1]" vi-up-line-or-history
[[ -z "$terminfo[kcud1]" ]] || bindkey -M viins "$terminfo[kcud1]" vi-down-line-or-history
[[ -z "$terminfo[kcuf1]" ]] || bindkey -M viins "$terminfo[kcuf1]" vi-forward-char
[[ -z "$terminfo[kcub1]" ]] || bindkey -M viins "$terminfo[kcub1]" vi-backward-char

# ncurses fogyatekos
[[ "$terminfo[kcuu1]" == "O"* ]] && bindkey -M viins "${terminfo[kcuu1]/O/[}" vi-up-line-or-history
[[ "$terminfo[kcud1]" == "O"* ]] && bindkey -M viins "${terminfo[kcud1]/O/[}" vi-down-line-or-history
[[ "$terminfo[kcuf1]" == "O"* ]] && bindkey -M viins "${terminfo[kcuf1]/O/[}" vi-forward-char
[[ "$terminfo[kcub1]" == "O"* ]] && bindkey -M viins "${terminfo[kcub1]/O/[}" vi-backward-char
[[ "$terminfo[khome]" == "O"* ]] && bindkey -M viins "${terminfo[khome]/O/[}" beginning-of-line
[[ "$terminfo[kend]" == "O"* ]] && bindkey -M viins "${terminfo[kend]/O/[}" end-of-line
[[ "$terminfo[khome]" == "O"* ]] && bindkey -M emacs "${terminfo[khome]/O/[}" beginning-of-line
[[ "$terminfo[kend]" == "O"* ]] && bindkey -M emacs "${terminfo[kend]/O/[}" end-of-line
fi

zstyle ':completion:*:sudo:*' command-path /usr/local/sbin /usr/local/bin \
			     /usr/sbin /usr/bin /sbin /bin /usr/X11R6/bin

unalias run-help
autoload run-help

##########################################################################
### –î–∞–ª—å—à–µ –Ω–∞—à–∏ –ø—Ä–∞–≤–∫–∏
##########################################################################


### –°–º–µ–Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
# –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –≤—ã–≤–æ–¥–æ–º PROMPT'–∞
precmdDISABLED()
{
    [[ -t 1 ]] || return
    case $TERM in
        *xterm*|screen|rxvt|(dt|k|E)term*)
            print -Pn "\e]2; $LOGNAME@$HOST [%~]\a"
        ;;
    esac
}

# –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã, –ø–µ—Ä–µ–¥ –µ–µ –∑–∞–ø—É—Å–∫–æ–º
preexecDISABLED() {
    [[ -t 1 ]] || return
    case $TERM in
        *xterm*|screen|rxvt|(dt|k|E)term*)
            print -Pn "\e]2;<$1> $LOGNAME@$HOST [%~]\a"
        ;;
    esac
}


### –ü–æ–ª–µ–∑–Ω—ã–µ –∞–ª–∏–∞—Å—ã –¥–ª—è ls
# —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã –≤—Å–µ–≥–¥–∞ ISO
alias ls='ls -F --color=auto --time-style=long-iso'
alias ll='ls -l'
alias la='ls -A'
alias li='ls -ial'
alias l='ls -al'
alias lsd='ls -ld *(-/DN)'
alias lsa='ls -ld .*'


### –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –¥–∏—Ñ—Ñ–æ–≤
if test -x "`which colordiff`"; then
    alias svn-diff='svn diff --diff-cmd colordiff'
else
    alias svn-diff='svn diff'
fi


### –í–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –≤–∫–ª—é—á–∏–º –≤—Å–µ –Ω–∞–≤–æ—Ä–æ—Ç—ã —Å—Ä–∞–∑—É
if test -r /etc/zsh/newuser.zshrc.recommended; then
    . /etc/zsh/newuser.zshrc.recommended
fi


### –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–º –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ö–µ–º—ã —É–∂–∞—Å–Ω—ã

# nice green prompt
#PROMPT=$'%{\e[1;32m%}[%m:%{\e[1;34m%}%~%{\e[1;32m%}] %{\e[1;31m%}%#%{\e[0m%} '
#RPROMPT=$'%{\e[1;32m%}[%{\e[1;33m%}%T%{\e[1;32m%}]%{\e[0m%}'

# –ß–∞—Å—ã —Å–ø—Ä–∞–≤–∞ –ø–æ—Ä—Ç—è—Ç –∫–æ–ø–∏–ø–∞—Å—Ç —Å –∫–æ–Ω—Å–æ–ª–∏, –Ω–∞–¥–æ–µ–ª–æ,
# –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ —Ç–µ–ø–µ—Ä—å —Å–ª–µ–≤–∞ –∏ —Å —Å–µ–∫—É–Ω–¥–∞–º–∏.
# –Ø—Ä–∫–æ:
PROMPT=$'%{\e[1;32m%}[%{\e[1;33m%}%D{%T}%{\e[1;32m%}]%{\e[0m%} %{\e[1;32m%}[%m:%{\e[1;34m%}%~%{\e[1;32m%}] %{\e[1;31m%}%#%{\e[0m%} '
# –¢—É—Å–∫–ª–æ:
PROMPT=$'%{\e[32m%}[%{\e[33m%}%D{%T}%{\e[32m%}]%{\e[0m%} %{\e[32m%}[%m:%{\e[34m%}%~%{\e[32m%}] %{\e[31m%}%#%{\e[0m%} '
# –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π —Å–æ—Ç—Ä–µ–º, –µ—Å–ª–∏ –æ—Ç –ø—Ä–æ—à–ª–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —á—Ç–æ-–Ω–∏–±—É–¥—å –æ—Å—Ç–∞–ª–æ—Å—å
RPROMPT=$''


### –°—Ç—Ä–æ–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è mysql - [time] host:db>_
export MYSQL_PS1='[\R:\m:\s]\ \h:\d>\_'


### –í–ê–ñ–ù–û! –î–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ —Ñ–∞–π–ª–∞–º–∏ –Ω—É–∂–µ–Ω –≥—Ä—É–ø–ø–æ–≤–æ–π umask
umask 0002

